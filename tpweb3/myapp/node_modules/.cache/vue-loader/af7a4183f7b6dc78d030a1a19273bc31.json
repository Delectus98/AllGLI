{"remainingRequest":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/src/components/todos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/src/components/todos.vue","mtime":1602146730416},{"path":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mbeucher/web-workspace/GLI/tpweb3/myapp2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CgovLyBzdGF0ZXMKY29uc3QgVE9ETyA9ICJUb2RvIjsKLypjb25zdCBJTl9QUk9HUkVTUyA9ICJJblByb2dyZXNzIjsKY29uc3QgRE9ORSA9ICJEb25lIjsqLwoKY2xhc3MgVGFzawp7CiAgbmFtZT0iIjsKICB0eXBlPVRPRE87CgogIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIF90eXBlKSB7CiAgICB0aGlzLm5hbWUgPSBtZXNzYWdlOwogICAgdGhpcy50eXBlID0gX3R5cGU7CiAgfQp9CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvZG9zIGV4dGVuZHMgVnVlIHsKCiAgbmFtZSA9ICd0b2Rvcyc7CiAgcHJvcHMgPSBbXTsKCiAgbWVzc2FnZSA9ICcnOwogIGZpbHRlciA9ICcnOwoKICBzdGF0ZWQgPSB0cnVlOwogIHRhc2tzID0gW107CiAgLy8gVE9ETwogIHBpY2tlZCA9IFRPRE87CgogIG5ld05hbWU9IiI7CgogIHNlbGVjdGVkQWxsID0gZmFsc2U7CiAgY2hlY2tlZElkcyA9IFtdOwoKICBhZGRUYXNrKCkgewogICAgY29uc29sZS5sb2coImFkZGVkOiIgKyB0aGlzLm1lc3NhZ2UpOwogICAgdGhpcy50YXNrcy5wdXNoKG5ldyBUYXNrKHRoaXMubWVzc2FnZSwgdGhpcy5waWNrZWQpKQogICAgdGhpcy5tZXNzYWdlID0gJyc7CiAgICBpZiAodGhpcy5zZWxlY3RlZEFsbCkKICAgIHsKICAgICAgdGhpcy5zZWxlY3RlZEFsbCA9IGZhbHNlOwogICAgICB0aGlzLmNoZWNrQWxsKCk7CiAgICB9CiAgfQoKICByZW5hbWUoaW5kZXgpCiAgewogICAgdGhpcy50YXNrc1tpbmRleF0ubmFtZSA9IHRoaXMubmV3TmFtZTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5jaGVja2VkSWRzKSB7CiAgICAgICAgdGhpcy50YXNrc1tpZF0udHlwZSA9IHRoaXMucGlja2VkOwogICAgfQogIH0KCiAgcmVtb3ZlKGluZGV4KSB7CiAgICBjb25zb2xlLmxvZygiZGVsZXRpbmcgIiArIHRoaXMudGFza3NbaW5kZXhdLm5hbWUgKyAiIHRhc2shIik7CiAgICB0aGlzLmNoZWNrZWRJZHMgPSBbXTsKICAgIHRoaXMuc2VsZWN0ZWRBbGwgPSBmYWxzZTsKICAgIHRoaXMudGFza3Muc3BsaWNlKGluZGV4LCAxKTsKICB9CgogIGFyY2hpdmVEb25lKCkgewogICAgdGhpcy5jaGVja2VkSWRzID0gW107CiAgICB0aGlzLnNlbGVjdGVkQWxsID0gZmFsc2U7CiAgICB0aGlzLnRhc2tzID0gdGhpcy50YXNrcy5maWx0ZXIodCA9PiB0LnR5cGUgIT09ICJEb25lIikgOwogIH0KCiAgY2hlY2tBbGwoKXsKICAgIHRoaXMuc2VsZWN0ZWRBbGwgPSAhdGhpcy5zZWxlY3RlZEFsbDsKICAgIHRoaXMuY2hlY2tlZElkcyA9IFtdOwogICAgaWYodGhpcy5zZWxlY3RlZEFsbCl7IC8vIENoZWNrIGFsbAogICAgICB0aGlzLnRhc2tzLmZvckVhY2goKHQsaSkgPT4gdGhpcy5jaGVja2VkSWRzLnB1c2goaSkpOwogICAgfQogIH0KICB1cGRhdGVDaGVja0FsbCgpewogICAgaWYodGhpcy5jaGVja2VkSWRzLmxlbmd0aCA9PT0gdGhpcy50YXNrcy5sZW5ndGgpewogICAgICB0aGlzLnNlbGVjdGVkQWxsID0gdHJ1ZTsKICAgIH1lbHNlewogICAgICB0aGlzLnNlbGVjdGVkQWxsID0gZmFsc2U7CiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["todos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"todos.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\n  <div class=\"todos\">\n    <h1>{{ name }}</h1>\n    <input type=\"radio\" id=\"select-done\" value=\"Done\" v-model=\"picked\">\n    <label for=\"select-done\">Done</label>\n    <input type=\"radio\" id=\"select-in-progress\" value=\"InProgress\" v-model=\"picked\">\n    <label for=\"select-in-progress\">In progress</label>\n    <input type=\"radio\" id=\"select-todo\"  value=\"Todo\" v-model=\"picked\">\n    <label for=\"select-todo\">Todo</label>\n\n    <button v-on:click=\"update()\">\n      Apply state to selected tasks\n    </button>\n    <button v-on:click=\"archiveDone()\">Archive all done tasks</button>\n    <input type=\"checkbox\" id=\"filter-tasks\" v-model=\"stated\">\n    <label for=\"filter-tasks\">Filter by state</label>\n\n    <input type=\"text\" v-model=\"filter\" placeholder=\"Recherchez en détail!\"><br/>\n    <input type=\"text\" v-model=\"message\" placeholder=\"Rentrez champ tâche ici!\" v-on:change=\"addTask()\">\n\n    <input type='checkbox' id=\"select-all\" @click='checkAll()' v-model=\"selectedAll\">\n    <label for=\"select-all\">Select all</label>\n    <ul>\n      <li v-for=\"(item, index) in tasks.filter(t0 => t0.name.startsWith(filter) && (!stated || t0.type.startsWith(picked)))\" :key=\"index\" >\n        <input type=\"checkbox\" v-model=\"checkedIds\" :value=\"tasks.indexOf(item)\" @change='updateCheckAll()'>\n        {{ item.name }} [{{item.type}}]\n        {{ tasks.indexOf(item) }}\n        <button v-on:click=\"remove(index)\">\n          X\n        </button>\n        <input type=\"text\" v-if=\"checkedIds.length === 1 && checkedIds.includes(index)\" v-model=\"newName\" placeholder=\"rename\" @change=\"rename(index)\">\n      </li>\n    </ul>\n    <footer v-if=\"tasks.length!==0\">\n      Task count: {{ tasks.length }}\n    </footer>\n  </div>\n</template>\n\n<script lang=\"js\">\nimport { Component, Vue } from 'vue-property-decorator';\n\n// states\nconst TODO = \"Todo\";\n/*const IN_PROGRESS = \"InProgress\";\nconst DONE = \"Done\";*/\n\nclass Task\n{\n  name=\"\";\n  type=TODO;\n\n  constructor(message, _type) {\n    this.name = message;\n    this.type = _type;\n  }\n}\n\n@Component\nexport default class Todos extends Vue {\n\n  name = 'todos';\n  props = [];\n\n  message = '';\n  filter = '';\n\n  stated = true;\n  tasks = [];\n  // TODO\n  picked = TODO;\n\n  newName=\"\";\n\n  selectedAll = false;\n  checkedIds = [];\n\n  addTask() {\n    console.log(\"added:\" + this.message);\n    this.tasks.push(new Task(this.message, this.picked))\n    this.message = '';\n    if (this.selectedAll)\n    {\n      this.selectedAll = false;\n      this.checkAll();\n    }\n  }\n\n  rename(index)\n  {\n    this.tasks[index].name = this.newName;\n  }\n\n  update() {\n    for (const id in this.checkedIds) {\n        this.tasks[id].type = this.picked;\n    }\n  }\n\n  remove(index) {\n    console.log(\"deleting \" + this.tasks[index].name + \" task!\");\n    this.checkedIds = [];\n    this.selectedAll = false;\n    this.tasks.splice(index, 1);\n  }\n\n  archiveDone() {\n    this.checkedIds = [];\n    this.selectedAll = false;\n    this.tasks = this.tasks.filter(t => t.type !== \"Done\") ;\n  }\n\n  checkAll(){\n    this.selectedAll = !this.selectedAll;\n    this.checkedIds = [];\n    if(this.selectedAll){ // Check all\n      this.tasks.forEach((t,i) => this.checkedIds.push(i));\n    }\n  }\n  updateCheckAll(){\n    if(this.checkedIds.length === this.tasks.length){\n      this.selectedAll = true;\n    }else{\n      this.selectedAll = false;\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"css\">\n  h1 {\n    color: chocolate;\n  }\n</style>\n"]}]}